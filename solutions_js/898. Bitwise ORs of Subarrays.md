---
layout: page
title: leetcode 898. Bitwise ORs of Subarrays
permalink: /s898-js
---
[Leetcode 898. Bitwise ORs of Subarrays](https://algoadvance.github.io/algoadvance/l898)
## Problem Statement

The problem requires you to find the number of distinct values generated by applying the bitwise OR operation to every possible subarray of a given array. 

Given an integer array `arr`, return the number of unique results from the bitwise OR operation of every possible subarray in `arr`.

Constraints:
- `1 <= arr.length <= 5 * 10^4`
- `0 <= arr[i] <= 10^9`

## Clarifying Questions
1. **What is a subarray?**
   - A subarray is a contiguous portion of the array.

2. **What type of output do we expect?**
   - We expect the number of unique values after performing bitwise OR operations on all possible subarrays.

3. **Examples:**
    - Example 1: Input: `arr = [1, 1, 2]`, Output: `3`
    - Example 2: Input: `arr = [1, 2, 4]`, Output: `6`
   
## Strategy

1. **Initialization**:
   - Use a set to store all unique OR results (`distinctResults`).
   - Use the current active OR results (`cur`) and the new OR results for this iteration (`newCur`).

2. **Iteration**:
   - Traverse each element in the array.
   - For each element, calculate its OR with each value in `cur` and store the results in `newCur`.
   - Add the element itself to `newCur` to cover the subarray starting with the current element.
   - Update the `cur` set to include the new OR results.
   - Add all results in `cur` to `distinctResults`.

3. **Output**:
   - The number of unique elements in the `distinctResults` set is the answer.

## Time Complexity
- The complexity is roughly O(n * log(m)), where `n` is the length of the array and `m` is the maximum value in the array because of the log bits count handling in OR operations. The worst-case scenario handles the OR operation over potentially all subarrays, which is optimized by the Set operations for uniqueness checks.

```javascript
function subarrayBitwiseORs(arr) {
    let distinctResults = new Set();
    let cur = new Set();

    for (let num of arr) {
        let newCur = new Set();
        
        // Add the current number itself for single element subarray
        newCur.add(num);
        
        for (let val of cur) {
            newCur.add(val | num);
        }
        
        cur = newCur;
        
        // Aggregate results into distinctResults
        for (let val of cur) {
            distinctResults.add(val);
        }
    }
    
    return distinctResults.size;
}

// Example Test Case
console.log(subarrayBitwiseORs([1, 2, 4]));  // Output: 6
```

This code considers each subarray and gathers the OR results efficiently, ensuring we only record unique results.


### Cut your prep time in half and DOMINATE your interview with [AlgoAdvance AI](https://algoAdvance.com)

- Got blindsided by a question you didn't expect?

- Spend too much time studying?

- Or simply don't have the time to go over all 3000 questions?

